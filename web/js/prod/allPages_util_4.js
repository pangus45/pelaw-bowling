l("Loading util!!!!");$(document).ready(function(){if($(".xdebug-error").length>0){l($(".xdebug-error *").text())}});function browserSupportsFileAPI(){return window.FileReader&&window.File&&window.FileList&&window.Blob}function isLocalHost(){return 0==location.href.indexOf("http://localhost")}function selectInputsValueAttributeUpdateInit(pSelect){pSelect.each(function(){var select=$(this);select.attr("data-value",select.val());select.change(function(){select.attr("data-value",select.val())})})}function stringOrSelectorGet(pStringOrSelector){if(typeof pStringOrSelector=="string"){return $(pStringOrSelector)}return pStringOrSelector}function elementIndexInSelectorGet(pElement,pSelector){var index=-1;pSelector.each(function(pIndex,pComparisonElement){if(pElement.get(0)==pComparisonElement){index=pIndex}});return index}function namedElementValuesSetFromData(pWrapper,pData){$.each(pData,function(pKey,pValue){pWrapper.find("[name="+pKey+"]").val(pValue)})}function dataGetFromNamedElements(pWrapper){var data={};pWrapper.find("[name]").eachElement(function(pElement){data[pElement.attr("name")]=pElement.val()});return data}function elementCloneWithNamedValues(pElement){var clonedElement=pElement.clone();pElement.find("[name]").eachElement(function(pNamedElement){var name=pNamedElement.attr("name");clonedElement.find("[name="+name+"]").val(pNamedElement.val())});return clonedElement}function unitProcess(pValue,pPermittedUnits,pDefaultUnit){var value=null;$.each(pPermittedUnits,function(pIndex,pUnit){if(pUnit.length>pValue.length){return false}if(pValue.substr(pValue.length-pUnit.length)==pUnit){value=pValue;return false}});if(value){return value}return pValue+pDefaultUnit}function readURLs(pInput,pLoadedCallback){if(pInput.files){$.each(pInput.files,function(pIndex,pFile){var reader=new FileReader;reader.onload=function(e){pLoadedCallback(e.target.result,pIndex)};reader.readAsDataURL(pFile)})}}$.fn.eachElement=function(pFunction){this.each(function(){return pFunction($(this))});return this};$.fn.eachIndexAndElement=function(pFunction){this.each(function(pIndex){return pFunction(pIndex,$(this))});return this};function cssValueCopy(pSourceElement,pDestinationElement,pProperty){pDestinationElement.css(pProperty,pSourceElement.css(pProperty))}function elementDimensionsMatch(pSourceElement,pDestinationElement){widthMatch(pSourceElement,pDestinationElement);heightMatch(pSourceElement,pDestinationElement)}function widthMatch(pSourceElement,pDestinationElement){pDestinationElement.width(pSourceElement.width())}function heightMatch(pSourceElement,pDestinationElement){pDestinationElement.height(pSourceElement.height())}function objectCopyToClipboard(pObject){var json=JSON.stringify(pObject);textCopyToClipboard(json)}function objectGetFromClipboard(){var json=clipboardTextGet();if(json){var object=$.parseJSON(json);if(object){return object}}return null}function clipboardClear(){localStorageValueRemove("clipboard")}function textCopyToClipboard(pText){localStorageValueSet("clipboard",pText)}function clipboardTextGet(){return localStorageValueGet("clipboard")}function dp(pParam,pDefault){if(def(pParam)){return pParam}return pDefault}function randomIntegerGet(pMax){return Math.floor(Math.random()*pMax)}(function($){$.fn.shuffle=function(){var allElems=this.get(),getRandom=function(max){return Math.floor(Math.random()*max)},shuffled=$.map(allElems,function(){var random=getRandom(allElems.length),randEl=$(allElems[random]).clone(true)[0];allElems.splice(random,1);return randEl});this.each(function(i){$(this).replaceWith($(shuffled[i]))});return $(shuffled)}})(jQuery);function htmlDecode(pHtml){var doc=$.parseHTML(pHtml);if(doc){return doc[0].textContent}return null}function sessionRefreshInit(){var seconds=$("#sessionLifetime").attr("class");var ms=seconds*1e3;setTimeout(function(){location.reload()},ms)}function selectorGetFromStringOrSelector(pStringOrSelector){if("string"==typeof pStringOrSelector){return $(pStringOrSelector)}return pStringOrSelector}function elementBottom(pSelector){return $(pSelector).offset().top+$(pSelector).outerHeight()}function timeGet(){var date=new Date;return date.getTime()}function elementHasAttribute(pElement,pAttribute){return pElement.is("["+pAttribute+"]")}function backgroundImageUrlGet(pElement){var backgroundImage=pElement.css("background-image");if("none"==backgroundImage){return"none"}backgroundImage=backgroundImage.substr("url(".length);backgroundImage=backgroundImage.substr(0,backgroundImage.length-1);backgroundImage=trim(backgroundImage,'"');return backgroundImage}function trim(s,mask){while(~mask.indexOf(s[0])){s=s.slice(1)}while(~mask.indexOf(s[s.length-1])){s=s.slice(0,-1)}return s}function locationGetFromIP(pSuccess,pFail){$.ajax({dataType:"json",url:"http://freegeoip.net/json/",success:function(pData){pSuccess&&pSuccess(pData)},error:function(){pFail&&pFail()},timeout:3e3})}function tabletAndSmaller(){return $("#mediaMatcher").css("float")!="none"}function tablet(){return $("#mediaMatcher").css("float")=="left"}function mobile(){return $("#mediaMatcher").css("float")=="right"}function screenSizeGet(){if(!tabletAndSmaller()){return"desktop"}else if(tablet()){return"tablet"}else{return"mobile"}}function pageHasVerticalScrollBar(){l("Has Scroll Bar",$("body").width()>$(window).width());l("Win width",$(window).width());l("Doc Width",$(document).width());return $(window).width()<$(document).width()}function elementScrollToCentre(pElement,pAnimate,pAnimDuration){pAnimDuration=dp(pAnimDuration,.5);pAnimate=dp(pAnimate,false);var top=pElement.offset().top;var halfScreenHeight=$(window).height()/2;var halfSuccessMessageHeight=pElement.outerHeight()/2;var scrollTo=top-halfScreenHeight+halfSuccessMessageHeight;if(pAnimate){TweenMax.to(window,{duration:pAnimDuration,scrollTo:scrollTo})}else{$(window).scrollTop(scrollTo)}}function screenDimensionsGet(){return{width:screenWidthGet(),height:screenHeightGet()}}function screenWidthGet(){return $(window).width()}function screenHeightGet(){return $(window).height()}function osIsApple(){return navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)?true:false}function osIsAndroid(){var ua=navigator.userAgent.toLowerCase();return ua.indexOf("android")>-1}function osIsWindows(){return navigator.platform.indexOf("Win")>-1}var hexDigits=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f");function rgb2hex(rgb){rgb=rgb.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);return"#"+hex(rgb[1])+hex(rgb[2])+hex(rgb[3])}function rgba2hex(rgb){rgb=rgb.match(/^rgba\((\d+),\s*(\d+),\s*(\d+)\,\s*(\d+)\)$/);return"#"+hex(rgb[1])+hex(rgb[2])+hex(rgb[3])}function hexToRgb(hex){var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return result?[parseInt(result[1],16),parseInt(result[2],16),parseInt(result[3],16)]:null}function hex(x){return isNaN(x)?"00":hexDigits[(x-x%16)/16]+hexDigits[x%16]}function translateYGet(pElement){return transformComponentsGet(pElement).y}function transformXGet(pElement){return transformComponentsGet(pElement).x}function transformComponentsGet(pElement){var matrix=pElement.css("transform").replace(/[^0-9\-.,]/g,"").split(",");if(matrix.length<5){return{x:0,y:0}}var x=matrix[12]||matrix[4];var y=matrix[13]||matrix[5];return{x:parseFloat(x),y:parseFloat(y)}}function fixedElementScreenYGet(pElement){var y=0;var translate=translateYGet(pElement);var top=parseFloat(pElement.css("top"));y=translate+top;return y}function localStorageValueSet(pKey,pValue){console.log("Setting "+pKey+" to "+pValue);if(typeof pValue=="boolean"){localStorage[pKey]="bool:"+pValue}else{localStorage[pKey]=pValue}}function localStorageValueGet(pFullKey){if(pFullKey in localStorage){var value=localStorage[pFullKey];if(0==value.indexOf("bool:")){if(-1!=value.indexOf("true")){return true}else{return false}}return localStorage[pFullKey]}return null}function localStorageValueRemove(pFullKey){localStorage.removeItem(pFullKey)}function localStorageValueSetForPage(pKey,pValue){localStorageValueSet(localStoragePageKeyGet(pKey),pValue)}function localStorageValueGetForPage(pKey){return localStorageValueGet(localStoragePageKeyGet(pKey))}function localStorageValueRemoveForPage(pKey){localStorage.removeItem(localStoragePageKeyGet(pKey))}function localStoragePageKeyGet(pKey){return location.pathname+":"+pKey}function domClimbTo(pElement,pTargetSelector){var parent=pElement.parent();if(0==parent.length){return null}if(parent.is(pTargetSelector)){return parent}return domClimbTo(parent,pTargetSelector)}jQuery.fn.domClimbTo=function(pTargetSelector){return domClimbTo(this,pTargetSelector)};jQuery.fn.reverse=[].reverse;function elementIsHidden(pElement){if(pElement.is("body")){return false}if("none"==pElement.css("display")){return true}return elementIsHidden(pElement.parent())}function elementIsInViewport(pElement,pOffsetPercent){var offset=0;if(pOffsetPercent){offset=pOffsetPercent*pElement.outerHeight()}var elementTop=pElement.offset().top;var elementBottom=elementTop+pElement.outerHeight();var screenBottom=$(window).scrollTop()+$(window).height();if(elementTop+offset<screenBottom&&elementBottom-offset>$(window).scrollTop()){return true}return false}function elementIsAboveViewport(pElement,pOffsetPercent){var offset=0;if(pOffsetPercent){offset=pOffsetPercent*pElement.outerHeight()}var elementTop=pElement.offset().top;if($(window).scrollTop()>elementTop-offset){return true}return false}function maxInArrayGet(pArray){return Math.max.apply(null,pArray)}function uniqid(){var id="";for(var i=0;i<13;i++){id+=randomHexDigitGet()}return id}function randomHexDigitGet(){var CHARS=["0","1","2","3","4","5","6","7","8","9","0","a","b","c","d","e","f"];return CHARS[randomIntegerGet(16)]}function colourPickersInit(){$(".colourPicker, .colourPickerHex").off("change");$(".colourPicker").on("change",function(){var thisVal=$(this).val();var otherVal=$(this).next().val();if(thisVal!=otherVal){$(this).next().val($(this).val())}});$(".colourPickerHex").on("change",function(){var thisVal=$(this).val();var otherVal=$(this).next().val();if(thisVal!=otherVal){$(this).prev().val($(this).val())}})}function browserIsIE(){var ua=window.navigator.userAgent;var msie=ua.indexOf("MSIE ");if(msie>0){return true}var trident=ua.indexOf("Trident/");if(trident>0){var rv=ua.indexOf("rv:");return true}var edge=ua.indexOf("Edge/");if(edge>0){return true}return false}function arrayShuffle(pArray){for(var i=pArray.length-1;i>0;i--){var j=Math.floor(Math.random()*(i+1));var temp=pArray[i];pArray[i]=pArray[j];pArray[j]=temp}return pArray}