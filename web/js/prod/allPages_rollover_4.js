$(window).on("load",function(){});function rolloversRefresh(){console.log("Rollovers Refresh");$(".overlayRemove").remove();if(mobileLayout()){$(".rolloverImage").css("visibility","visible")}else{allImagesOverlayAdd()}}function overlaysAddToRow(pRowWrapper){pRowWrapper.find("a.rolloverImage .borderContainerWithBackgroundImage").each(function(){imageOverlayAdd($(this))})}function allImagesOverlayAdd(){$("a.rolloverImage").each(function(){var borderContainer=$(this).children(".borderContainerWithBackgroundImage");imageOverlayAdd(borderContainer)})}function imageOverlayAdd(pImage){var originalImage=backgroundImageUrlGet(pImage);if("none"==originalImage){return}var element=domClimbTo(pImage,".layoutSquare");if(elementIsHidden(pImage)||element.data("responsiveHidden")){return}var overlay=$('<div class="overlayRemove overlayWrapper">');dimensionsCopy(pImage,overlay);overlay.css("border",pImage.css("border"));overlay.css("overflow","hidden");pImage.css("visibility","hidden");var overlayImage=$('<img src="'+originalImage+'" class="overlayImage">').appendTo(overlay);overlay.appendTo("body");var overlayAspectRatio=pImage.width()/pImage.height();var imageAspectRatio=overlayImage.width()/overlayImage.height();if(imageAspectRatio>overlayAspectRatio){overlayImage.height(pImage.height());overlayImage.addClass("tallImage")}else{overlayImage.width(pImage.width());overlayImage.addClass("longImage")}overlayImage.remove();overlay.append(overlayImage);var darkCover=$('<div class="overlayRemove darkCover">').appendTo("body");dimensionsCopy(overlay,darkCover);darkCover.addClass("darkCover");var newTextWrapper=$('<div class="overlayRemove overlayTextOuter">').appendTo("body");dimensionsCopy(overlay,newTextWrapper);var textInner=$('<div class="overlayTextInner">').appendTo(newTextWrapper);var originalTextWrapper=pImage.find(".customTextWrapper");textInner.append(originalTextWrapper.html());var classes=originalTextWrapper.attr("class").split(" ");for(var i in classes){var className=classes[i];if(-1!=className.indexOf("verticalAlign")){textInner.addClass(className)}}newTextWrapper.click(function(){window.location=pImage.parent().attr("href")});pImage.data("overlayImage",overlayImage);pImage.data("overlayCover",darkCover);newTextWrapper.hover(function(){overlayImage.addClass("hover");darkCover.addClass("hover");newTextWrapper.addClass("hover")},function(){overlayImage.removeClass("hover");darkCover.removeClass("hover");newTextWrapper.removeClass("hover")})}function dimensionsCopy(pSourceElement,pDestinationElement){pDestinationElement.css("position","absolute");pDestinationElement.css("width",pSourceElement.outerWidth());pDestinationElement.css("height",pSourceElement.outerHeight());pDestinationElement.css("left",pSourceElement.offset().left);pDestinationElement.css("top",pSourceElement.offset().top)}